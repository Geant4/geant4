$Id: History,v 1.46 2005/12/05 00:16:34 perl Exp $
-------------------------------------------------------------------

     =========================================================
     Geant4 - an Object-Oriented Toolkit for Simulation in HEP
     =========================================================

                      Category History file
                      ---------------------
This file should be used by G4 developers and category coordinators
to briefly summarize all major modifications introduced in the code
and keep track of all category-tags.
It DOES NOT substitute the  CVS log-message one should put at every
committal in the CVS repository !

     ----------------------------------------------------------
     * Reverse chronological order (last date on top), please *
     ----------------------------------------------------------

History file for visualization/modeling
---------------------------------------

2nd December 2005  Joseph Perl (modeling-V07-01-07)
- Change "G4String inline" to "inline G4String" to correct compiler
  warning in G4VTrajectoryModel.hh.

30th November 2005  Gabriele Cosmo (modeling-V07-01-06)
- Trivial fix to G4VModel for support of CLHEP-2.0.X series.

28th November 2005  Jane Tinslay
- Remove names of unused parameters to stop compiler warnings

24th November 2005  John Allison (modeling-V07-01-05)
- Set initial values for originalRMin, originalRMax to satisfy compiler

23rd November 2005  Joseph Perl  (modeling-V07-01-04)
- Tagged in preparation for Geant4 8.0

23rd November 2005 Jane Tinslay
- Enhanced trajectory implementation

22nd November 2005  John Allison (modeling-V07-01-03)
- Implemented radial replicas for G4Tubs.
- Changed G4Transform3D::Identity to G4Transform3D().

24th October 2005  John Allison (modeling-V07-01-02)
- Added: G4VTrajectoryModel, G4VTrajectoryModelMaker, G4TrajectoryModelMaker
  and G4TrajectoryTestModel.
- G4VModel: cosmetic changes.

13th October 2005  John Allison (modeling-V07-01-01)
- Migrated to <sstream>.

13th September 2005  John Allison (modeling-V07-01-00)
- Fixed (non-)culling of transparent volumes.

7th June 2005  John Allison (modeling-V07-00-02)
- G4PhysicalVolumeModel: fixed case of off-origin volume.
- G4TextModel: Further small improvement.

31st May 2005  John Allison  (modeling-V07-00-01)
- G4TextModel: Improved global tag for better identification.

6th May 2005  John Allison  (modeling-V07-00-00)
- G4PhysicalVolumeModel: SetCopyNo of replicas and paramaterised volumes.

3rd March 2005  John Allison  (vis-V07-00-08)
- Added Set methods to G4VModel.
- Added argument to G4CallbackModel::operator()(const G4Transform3D&) so that
  the model could implement a given transformation.  Provided default for
  G4VUserVisAction::(const G4Transform3D& = G4Transform3D::Identity).

11th November 2004  John Allison  (vis-V06-02-05)
- Made use use of smart method GetPolyhedron for solids.  This greatly
  speeds 2nd and subsequent drawings when kernel access is required.

22nd September 2004  John Allison  (modeling-V06-02-01)
- Changed use of deprecated G4VPhysicalVolume::GetRotation to GetRotationValue.
- Fixed memory leak in G4PhysicalVolumeMassScene.

13th September 2004  John Allison  (modeling-V06-02-00)
- Added G4PhysicalVolumeMassScene.  From the header file:
// Calculates the mass of a geometry tree taking into account daughters
// up to the depth specified in the G4PhysicalVolumeModel.  Culling is
// ignored so that all volumes are seen.
//
// The calculation is quite tricky, since it involves subtracting the
// mass of that part of the mother that is occupied by each daughter and
// then adding the mass of the daughter, and so on down the heirarchy.
//
// Usage for a given G4PhysicalVolumeModel* pvModel:
//   G4PhysicalVolumeMassScene massScene;
//   massScene.EstablishSpecials (*pvModel);
//   pvModel->DescribeYourselfTo (massScene);
//   G4double volume = massScene.GetVolume();
//   G4double mass = massScene.GetMass();
//   massScene.Reset();
// See, for example, G4ASCIITreeSceneHandler::EndModeling().
- Added some access functions to G4PhysicalVolumeModel:
    GetTopPhysicalVolume, GetRequestedDepth, SetRequestedDepth.
- Protected GetPhysicalVolumeModel when all volumes "invisible".

12th November 2003  John Allison  (modeling-V05-02-02)
- CalculateExtent always searches complete hierarchy.

6th November 2003  John Allison  (modeling-V05-02-01, vis-V05-02-03)
- GNUmakefile: rationalised.

3rd November 2003  Gabriele Cosmo  (modeling-V05-02-00, vis-V05-02-02)
- Added inclusion of G4VSolid.hh in G4LogicalVolumeModel.cc to make it self
  consistent after header review in geometry category.

4th October 2003  Gabriele Cosmo  (vis-V05-02-01)
- GNUmakefile:
  o added dependency to new module "geometry/navigation".
  o replaced "digits+hits" with "digits_hits".
- Coworks with "geometry-V05-02-00" and "digits_hits-V05-02-00".

22nd September 2003  John Allison  (vis-V05-02-00, greps-V05-02-00)
- Removed a redundant comment.

20th November 2002  Gabriele Cosmo  (modeling-V04-01-00)
- Fixed access to static data (requires "greps-V04-01-04") in
  G4FlavoredParallelWorldModel.cc, to allow porting on Windows DLLs.

11th November 2002  John Allison  (modeling-V04-00-00)
- Added fDrawingMode data member to G4TrajectoriesModel.

24th October 2002  John Allison (vis-V04-01-03)
- Changes for AddThis(const G4VTrajectory&) and (const G4VHit&).

23rd February 2002  John Allison (vis-V04-00-02)
- Removed Begin/EndPrimitives from G4HitsModel and
  G4TrajectoriesModel.  This was causing nested calls to
  Begin/EndPrimitives (and thus to glNewList/EndList in OpenGL stored
  mode), since the trajectories and hits Draw methods themselves have
  Begin/EndPrimitives.

24th August 2001  John Allison  (vis-V03-02-13)
- Intoduced argument for printing in G4VModel::Validate(G4bool warn).
- Changed default return value in G4VModel::Validate(G4bool) to true.
- Invoke CalculateExtent after successful geometry change in
  G4PhysicalVolumeModel::Validate, and other bug fixes..

14th August 2001  John Allison  (vis-V03-02-11)
- Added sceneHandler.Begin/EndPrimitives messages to models (long
  standing bug!).

9th August 2001  John Allison  (vis-V03-02-10-00)
- Removed G4ModelingParameters::hierarchy.  It is no longer used.  The
  textual or graphical representation of the geometry hierarchy is now
  done in G4xxxTree classes in visua;ization/Tree.

25th July 2001  John Allison  (modeling-V03-02-03)
- Added G4VModel::GetG4PhysicalVolumeModel().
- Added G4VModel* argument to G4BoundingSphereScene constructor.
  Both the above are to facilitate access to a model, if it exists, and
  to invoke methods of G4PhysicalVolumeModel if it is one.
- Added code to curtail G4PhysicalVolumeModel search in G4BoundingSphereScene.

24th July 2001  John Allison  (modeling-V03-02-02)
- Added G4VModel::SetExtent(const G4VisExtent&).
- Cosmetic improvements to G4BoundingSphereScene.
- Augmented G4ScaleModel::fGlobalTag.

21st July 2001  John Allison  (modeling-V03-02-01)
- Added G4ScaleModel.
- Fixed bug in G4BoundingSphereScene::::Accrue().
- Also a few cosmetic changes.

18th July 2001  John Allison  (modeling-V03-02-00)
- Ensured rotation and translation of replica is restored.

3rd February 2001  John Allison  (vis-V03-00-02)
- Tidied for CodeWizard.

29th May 2000  John Allison
- Moved code for maintaining depth, physical and logical volume
  pointers from VisitGeometryAndGetVisReps to DescribeAndDescend to
  handle daughters of replicas correctly (Guy Barrand).

22nd May 2000  John Allison  (modeling-V01-01-00)
- Added G4VTreeGraphicsScene (DTREE).
- Commented out pVPV->SetCopyNo(n) on Makoto's advice in
  G4PhysicalVolumeModel.cc.

vis-V01-01-01  12th April 2000  John Allison
- Made G4PhysicalVolumeModel::DescribeSolid virtual.
- G4PhysicalVolumeModel::DescribeSolid no longer deals with composite
  solids - now programmed into CompositeSolid::CreatePolyhedron, where
  CompositeSolid means G4IntersectionSolid, G4SubtractionSolid and
  G4UnionSolid.
- G4PhysicalVolumeModel::DescribeSolid no longer deals with displaced
  solids - now programmed into G4DisplacedSolid::CreatePolyhedron.
- Added G4LogicalVolumeModel::DescribeSolid, which explicitly adds
  components of composite solids as white forced-wireframe objects.

vis-V00-01-10  25th November 1999  John Allison
- Adapted header files of modeling for Software Reference Manual.

vis-01-00-05  7th February 1999  John Allison

vis-01-00-05  7th February 1999  John Allison
- Added list facility to G4PhysicalVolumeSearchScene.
- Added virtual functions AddThis (const G4Polycone and G4Polyhedra to
  G4BoundingSphereScene and G4PhysicalVolumeSearchScene.

vis-00-04-01  25th November 1998  John Allison.
- Added const G4VisAttributes* fpDefaultVisAttributes and access
  functions to G4ModelingParameters.
- Reverted to default assignment operator and copy constructor for
  G4ModelingParameters.
- G4PhysicalVolumeModel can now handle invisible daughters.

31st August 1998  John Allison
- Added G4VModel::Validate() and in subclasses.

vis-00-02-05  27th August 1998  John Allison
- Added G4HitsModel and G4TrajectoriesModel.

vis-00-02-04  22nd August 1998  John Allison
- Made G4Transform3D fTransform a member of G4VModel (instead of pointer).
- Reversed order of parameters in G4VModel constructor.
- Much bug fixing.

vis-00-06-06  11th June 1998  John Allison
- G4PhysicalVolumeModel handles parametrised solids and materials.

vis-00-06-04  10th June 1998  John Allison
- Moved G4BoundingSphereScene from management to modeling.
- Added G4Transform3D data member.

modeling-00-04-01  4th March 1998  John Allison
- Last tag before moving to visualization.
- Removed G4ModelingParameters:: from G4ModelingParameters.hh constructor.

27th January 1998  John Allison
- New (temporay?) category.
- Incorporates modeling code which was in G4VScene.
